<div class="container-fluid pt-2">
    <div class="d-flex w-100 justify-content-between align-items-center border-bottom px-3 py-1">
      <h1 class=" Add-btn btn btn-danger" (click)="Addrows()">+</h1>  
      <div>
        <button class="btn btn-primary" (click)="navigato()">Products</button>
      </div>
    </div>
  
    <div class="my-4">
      <table class="table container table-bordered table-responsive table-striped  rounded border ">
        <thead class="table-light">
            <tr>
                <th class=" text-black py-3 ">Product Name</th>
                <th class=" text-black py-3 ">Product Quantity</th>
                <th class=" text-black py-3 ">Section</th>
                <th class=" text-black py-3 ">Price</th>
                <th class=" text-black py-3 ">Total</th>
                @if (AddRows.length>0){
                  <th class=" text-black py-3 ">Buy Product</th>
                }
            </tr>
        </thead>
          <tbody>
          <tr *ngFor="let product of buyproducts; let index = index">
            <td>{{ product.selectedProduct?.productname}}</td>
            <td>{{ product.quantity }}</td>
            <td>{{ product.selectedProduct?.section }}</td>
            <td>{{ product.selectedProduct?.price }}</td>
            <td>{{product.total}}</td>
          </tr>
          
          @if (add) {
            <tr *ngFor="let newcolum of AddRows; let i = index">
              <td>
                <select [(ngModel)]="newcolum.selectedProduct" class="form-control">  
                  <!-- {{newcolum.selectedProduct | json}} -->
                <option value="" >Select a product</option>
                <option *ngFor="let product of allproducts" [ngValue]="product">{{ product.productname }}</option>
            </select></td>
              <td><input type="number" class="form-control" [(ngModel)]="newcolum.quantity"/></td>
              <td>{{ newcolum.selectedProduct?.section }}</td>
              <td>{{ newcolum.selectedProduct?.price}}</td>
              <td>{{newcolum.total}}</td>
              <td>
                <button class="btn btn-primary mx-1" (click)="BuyProductsData(newcolum,i)">Add Products</button>
                <button class="btn btn-secondary mx-1" (click)="CancelData(i)">Cancel</button>

            </td> 
            

        </tr>
          }
        <tr>
          <td colspan="5" class="text-end " style="padding-right: 120px;" *ngIf="showTotal"> <span class="fw-bold">Total</span> :{{buytotal}}</td>
        </tr>  
       
          
            
            </tbody>
           
        </table>    
      <!-- <div class="d-flex justify-content-center">
        <button class="btn btn-primary mt-3" (click)="BuyProducts()">Add Products</button>
      </div>-->
       <div class="text-center mt-4">
            <button class="btn btn-danger" (click)="Totalgenrate()" >Generate Total</button>
          </div>
   
   

  
